<toolset>
    <pathSet base="anaconda3/bin">
        <toolPath tool="extract_scans" path="python"/>
    </pathSet>

    <pathSet base="$base">
        <pathVar name="extract_scans.script" path="generate_spectrum_index.py"/>
    </pathSet>

    <tool name="extract_scans">
    <require name="inputspectra" type="file"/>
        <produce name="summary_stats" type="folder"/>

        <execution env="binary" argConvention="adhoc">
            <arg pathRef="extract_scans.script"/>
            <arg option="-input_spectrum" valueRef="inputspectra"/>
            <arg option="-output_folder" valueRef="summary_stats"/>
        </execution>
    </tool>


    <pathSet base="anaconda3/bin">
        <toolPath tool="format_stats" path="python"/>
    </pathSet>

    <pathSet base="$base">
        <pathVar name="format_stats.script" path="format_proteosafe.py"/>
    </pathSet>

    <tool name="format_stats">
    <require name="summary_stats" type="folder"/>
    <require name="workflowParameters" type="file"/>
        <produce name="condensed_stats" type="file" naming="fixed" value="condensed_stats.tsv"/>

        <execution env="binary" argConvention="adhoc">
            <arg pathRef="format_stats.script"/>
            <arg valueRef="summary_stats"/>
            <arg valueRef="workflowParameters"/>
            <arg valueRef="condensed_stats"/>
        </execution>
    </tool>


</toolset>
